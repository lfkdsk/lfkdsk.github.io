<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="generator" content="Hugo 0.53" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Intra-Mind Traveler" />
  <meta property="og:url" content="https://lfkdsk.github.io/enhance-xyz/" />
  <link rel="canonical" href="https://lfkdsk.github.io/enhance-xyz/" /><link rel="apple-touch-icon" href="./img/favicon.ico" />
  <link rel="icon" href="./img/favicon.ico" />
  <link rel="shortcut" href="./img/favicon.ico" /><script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "https://lfkdsk.github.io"
      },
      "articleSection" : "",
      "name" : "Enhance RSSHub and Export RSS from XiaoYuZhou",
      "headline" : "Enhance RSSHub and Export RSS from XiaoYuZhou",
      "description" : "Intro As we all know, xiaoyuzhou is a new shining star in Chinese podcast sphere. It is known for its beautiful design and convenient functions. But due to it&rsquo;s a close-circle community, we could use rss link to register podcast channel in it but could not re-generate rss link from it. Especially for the podcast which is created in xiaoyuzhou&rsquo;s backend editor, we could not subscribe to them except xiaoyuzhou.",
      "inLanguage" : "en-US",
      "author" : "Intra-Mind Traveler",
      "creator" : "Intra-Mind Traveler",
      "publisher": "Intra-Mind Traveler",
      "accountablePerson" : "Intra-Mind Traveler",
      "copyrightHolder" : "Intra-Mind Traveler",
      "copyrightYear" : "2022",
      "datePublished": "2022-04-22 21:45:48 &#43;0800 CST",
      "dateModified" : "2022-04-22 21:45:48 &#43;0800 CST",
      "url" : "https://lfkdsk.github.io/enhance-xyz/",
      "keywords" : [ "Blog", "Joway's Blog", "Joway" ]
  }
</script>

  <title>Enhance RSSHub and Export RSS from XiaoYuZhou - lfkdsk&#39;s Blog</title>
  <meta property="og:title" content="Enhance RSSHub and Export RSS from XiaoYuZhou - lfkdsk&#39;s Blog" />
  <meta property="og:type" content="article" />
  <meta name="description" content="Intro As we all know, xiaoyuzhou is a new shining star in Chinese podcast sphere. It is known for its beautiful design and convenient functions. But due to it&rsquo;s a close-circle community, we could use rss link to register podcast channel in it but could not re-generate rss link from it. Especially for the podcast which is created in xiaoyuzhou&rsquo;s backend editor, we could not subscribe to them except xiaoyuzhou." />

  <link
    href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://unpkg.com/flexboxgrid@6.3.1/dist/flexboxgrid.min.css"
  />

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/androidstudio.min.css"
  />

  <link
  rel="stylesheet"
  href="/css/paper.css"
  />

  <link rel="stylesheet" href="/css/index.css">

  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="lfkdsk&#39;s Blog">
  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css?family=Bree+Serif|Bungee+Shade" rel="stylesheet">
  
  
  <script>
    

    (function(undefined) {}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});
  </script>

  
</head>


  <body>
    <article class="post Chinese" id="article">
      <div class="row">
        <div class="paper col-xs-12 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2">
          <a href="/">
            <div class="head-line"></div>
          </a>
          <header class="post-header">     
            <h1 class="post-title">Enhance RSSHub and Export RSS from XiaoYuZhou</h1>
            <div class="row">
              <div class="col-xs-6">
                <time class="post-date" datetime="2022-04-22 21:45:48 CST">
                  22 Apr 2022
                </time>
              </div>
              <div class="col-xs-6">
                <div class="post-author">
                  <a target="_blank" href="https://lfkdsk.github.io/">@Intra-Mind Traveler</a>
                </div>
              </div>
            </div>
          </header>
          
          
          <div class="post-content markdown-body">
            

<p><img src="logo.png" alt="" /></p>

<h2 id="intro">Intro</h2>

<p>As we all know, xiaoyuzhou is a new shining star in Chinese podcast sphere. It is known for its beautiful design and convenient functions. But due to it&rsquo;s a close-circle community, we could use rss link to register podcast channel in it but could not re-generate rss link from it. Especially for the podcast which is created in xiaoyuzhou&rsquo;s backend editor, we could not subscribe to them except xiaoyuzhou. So I will try to enhance its features and support export rss from it.</p>

<h2 id="exist-features-in-rsshub">Exist features in RSSHub</h2>

<p>With RSSHub, we could follow lots of platfroms&rsquo; rss sources and create a lot of rss by ourselves. RSSHub already supports two features of <code>xiaoyuzhou</code>.</p>

<ul>
<li><code>host/xiaoyuzhou</code> url will return today&rsquo;s recommended list podcasts. (You should deploy your own domain and support you <code>xiaoyuzhou</code>&rsquo;s token in backend. )</li>
<li><code>host/xiaoyuzhou/podcast/&lt;id&gt;</code> url will return a list of podcast items which corresponds to the id we provided.</li>
</ul>

<p>That looks good. But I found that the second url&rsquo;s spider use <code>xiaoyuzhou</code>&rsquo;s no- permission api in its html share page and it only returns the last 10 items.</p>

<p>Such as :</p>

<p><code>https://rsshub.app/xiaoyuzhou/podcast/6161387b0a191aa6100b4656</code> will return my podcast list (bingo my podcast only published 4 items.)</p>

<h2 id="enhanced-rsshub-by-myself">Enhanced RSSHub by myself</h2>

<h3 id="normal-use">Normal Use</h3>

<p>Let us see how to use first. I clone the official RSSHub repo and deploy my own domain in <code>moyutime-hub.app</code>. If you want to get a rss page in <code>xiaoyuzhou</code> , such as Gcore&rsquo;s Gadio which is mostly coolest/perfessional game podcast in Chinese. Their id is <code>5e280fb0418a84a0461fc251</code>.</p>

<ul>
<li>If you want follow them in your local rss client , you could just subscribe to this url :</li>
</ul>

<p><code>https://moyutime-hub.vercel.app/xiaoyuzhou/podcast/5e280fb0418a84a0461fc251</code></p>

<p>Rule : <code>host/xiaoyuzhou/podcast/&lt;pid&gt;</code></p>

<ul>
<li>If you want to get the last <code>X</code> limits items, you could use this url instead:</li>
</ul>

<p><code>https://moyutime-hub.vercel.app/xiaoyuzhou/podcast/5e280fb0418a84a0461fc251?limit=X</code></p>

<p>Rule : <code>host/xiaoyuzhou/podcast/&lt;pid&gt;</code>?limt=X</p>

<p>Especially<code>X</code> could be<code>all</code>, you can use this query flag to get all items back. <strong>But I don&rsquo;t recommend using this flag for a very long podcast that the server will use a very long time to merge response and return back.</strong></p>

<h3 id="rel-next">Rel=next ? ? ?</h3>

<p><code>xiaoyuzhou</code>&rsquo;s api is kind of <code>load-more</code> types. So if we wanted to get all items from it, we could only request and merge response. But I looked into the RFC doc that RSS support <code>rel=next</code> and <code>rel=previcous</code> tag to link to next page. <a href="https://www.rfc-editor.org/rfc/rfc5005#section-3">RFC 5005: Feed Paging and Archiving</a></p>

<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
   &lt;feed xmlns=&quot;http://www.w3.org/2005/Atom&quot;&gt;
    &lt;title&gt;Example Feed&lt;/title&gt;
    &lt;link href=&quot;http://example.org/&quot;/&gt;
    &lt;link rel=&quot;self&quot; href=&quot;http://example.org/index.atom&quot;/&gt;
    &lt;link rel=&quot;next&quot; href=&quot;http://example.org/index.atom?page=2&quot;/&gt;
    &lt;updated&gt;2003-12-13T18:30:02Z&lt;/updated&gt;
    &lt;author&gt;
      &lt;name&gt;John Doe&lt;/name&gt;
    &lt;/author&gt;
    &lt;entry&gt;
      &lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;
      &lt;link href=&quot;http://example.org/2003/12/13/atom03&quot;/&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
      &lt;updated&gt;2003-12-13T18:30:02Z&lt;/updated&gt;
      &lt;summary&gt;Some text.&lt;/summary&gt;
    &lt;/entry&gt;
   &lt;/feed&gt;
</code></pre>

<p>Thus, I support this in my folk repository. Every request to my server will return a next link ref back, such like <code>https://moyutime-hub.vercel.app/xiaoyuzhou/podcast/5e280fb0418a84a0461fc251</code> return</p>

<pre><code>&lt;atom:link href=&quot;https://moyutime-hub.vercel.app/xiaoyuzhou/podcast/5e280fb0418a84a0461fc251/N4IgDgrgRgIghgFwKYgFwgEwAYMYLRYAsBhAKgIwCsqWWNWAdLVgFogA0IAlgCZogA2DISiVCGAGZIAnFiQCqPKEmxQsAYygcQPLgCck6hFwD2AO34A5AKIANUiAC+QA&quot; rel=&quot;next&quot; type=&quot;application/rss+xml&quot;/&gt;
</code></pre>

<p>It&rsquo;s a url which combines the base url and base64 string to point to next request. <strong>But is there really a RSS client in the world that supports this</strong> <strong>RFC</strong> <strong>doc ? I have tried several clients that do not recognize it, so I turn to support</strong> <code>limit</code> <strong>query phase later.</strong></p>

<h2 id="for-more-implement-detail">For more implement detail</h2>

<p>Supporting this feature is pretty easy for me, so I don&rsquo;t want to go into too many details about the implementation. If you are also interested in this feature, you can get more from =&gt;</p>

<ul>
<li>the repo: <code>https://github.com/MoYuTime-Podcast/RSSHub</code></li>
<li>the code file: <code>https://github.com/MoYuTime-Podcast/RSSHub/blob/feature-add-xiaoyuzhou/lib/routes/xiaoyuzhou/podcast.js</code></li>
</ul>

          </div>
          
          <p>Subscribeï¼š<a target='_blank' href='https://lfkdsk.github.io/index.xml'>lfkdsk's Blog</a></p>

          <div style="height:50px"></div>
          
          <div class="post-comments">
            <div id="disqus_thread"></div>
<script>
  window.addEventListener("load", () => {
    (function() {
      
      var d = document,
        s = d.createElement("script");
      s.src = "https://lfkdsk.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  });
</script>
<noscript
  >Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript"
    >comments powered by Disqus.</a
  ></noscript
>

          </div>
          
        </div>
      </div>
    </article>

    <script src="/js/highlight.pack.js"></script>
<script src="https://unpkg.com/quicklink@0.1.1/dist/quicklink.umd.js"></script>

<script>
  hljs.initHighlightingOnLoad();
  
  var posts = document.getElementById('posts-list');
  posts && quicklink({
    el: posts,
    priority: true,
  });
</script>

  </body>
</html>
